{"ast":null,"code":"/**\r\n * A collection of low-level async operation stuff.\r\n */\n\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\nimport * as $array from \"./Array\";\nvar pendingFrame = false;\nvar nextQueue = [];\nvar readQueue = [];\nvar writeQueue = [];\nvar idleQueue = [];\nvar fps = 1000 / 60;\n/**\r\n * [raf description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\n\nexport var raf = typeof requestAnimationFrame === \"function\" ? function (fn) {\n  requestAnimationFrame(fn);\n} : function (fn) {\n  setTimeout(fn, fps);\n};\n/**\r\n * [frameLoop description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\n\nfunction frameLoop() {\n  var now = Date.now();\n  var length = nextQueue.length;\n\n  for (var i = 0; i < length; ++i) {\n    nextQueue[i](now);\n  }\n\n  $array.shiftLeft(nextQueue, length);\n\n  for (var i = 0; i < readQueue.length; ++i) {\n    readQueue[i](now);\n  }\n\n  readQueue.length = 0;\n\n  for (var i = 0; i < writeQueue.length; ++i) {\n    writeQueue[i](now);\n  }\n\n  writeQueue.length = 0;\n\n  if (nextQueue.length === 0 && readQueue.length === 0) {\n    pendingFrame = false;\n  } else {\n    raf(frameLoop);\n  }\n}\n/**\r\n * [pendFrame description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\n\n\nfunction pendFrame() {\n  if (!pendingFrame) {\n    pendingFrame = true;\n    raf(frameLoop);\n  }\n}\n/**\r\n * [nextFrame description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param fn [description]\r\n */\n\n\nexport function nextFrame(fn) {\n  nextQueue.push(fn);\n  pendFrame();\n}\n/**\r\n * [readFrame description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param fn [description]\r\n */\n\nexport function readFrame(fn) {\n  readQueue.push(fn);\n  pendFrame();\n}\n/**\r\n * [writeFrame description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param fn [description]\r\n */\n\nexport function writeFrame(fn) {\n  writeQueue.push(fn);\n  pendFrame();\n}\n/**\r\n * [whenIdle description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param fn [description]\r\n */\n\nexport function whenIdle(fn) {\n  idleQueue.push(fn);\n}\n/**\r\n * [triggerIdle description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @todo Maybe don't trigger a callback which was added while in the middle of triggering?\r\n */\n\nexport function triggerIdle() {\n  var now = Date.now();\n  var length = idleQueue.length;\n\n  for (var i = 0; i < length; ++i) {\n    idleQueue.shift()(now);\n  }\n}","map":{"version":3,"sources":["/home/unutu/go/src/github.com/thteam47/admin-portal/node_modules/@amcharts/amcharts4/.internal/core/utils/AsyncPending.js"],"names":["$array","pendingFrame","nextQueue","readQueue","writeQueue","idleQueue","fps","raf","requestAnimationFrame","fn","setTimeout","frameLoop","now","Date","length","i","shiftLeft","pendFrame","nextFrame","push","readFrame","writeFrame","whenIdle","triggerIdle","shift"],"mappings":"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","sourcesContent":["/**\r\n * A collection of low-level async operation stuff.\r\n */\r\n/**\r\n * ============================================================================\r\n * IMPORTS\r\n * ============================================================================\r\n * @hidden\r\n */\r\nimport * as $array from \"./Array\";\r\nvar pendingFrame = false;\r\nvar nextQueue = [];\r\nvar readQueue = [];\r\nvar writeQueue = [];\r\nvar idleQueue = [];\r\nvar fps = 1000 / 60;\r\n/**\r\n * [raf description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nexport var raf = (typeof requestAnimationFrame === \"function\"\r\n    ? function (fn) {\r\n        requestAnimationFrame(fn);\r\n    }\r\n    : function (fn) {\r\n        setTimeout(fn, fps);\r\n    });\r\n/**\r\n * [frameLoop description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nfunction frameLoop() {\r\n    var now = Date.now();\r\n    var length = nextQueue.length;\r\n    for (var i = 0; i < length; ++i) {\r\n        nextQueue[i](now);\r\n    }\r\n    $array.shiftLeft(nextQueue, length);\r\n    for (var i = 0; i < readQueue.length; ++i) {\r\n        readQueue[i](now);\r\n    }\r\n    readQueue.length = 0;\r\n    for (var i = 0; i < writeQueue.length; ++i) {\r\n        writeQueue[i](now);\r\n    }\r\n    writeQueue.length = 0;\r\n    if (nextQueue.length === 0 && readQueue.length === 0) {\r\n        pendingFrame = false;\r\n    }\r\n    else {\r\n        raf(frameLoop);\r\n    }\r\n}\r\n/**\r\n * [pendFrame description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n */\r\nfunction pendFrame() {\r\n    if (!pendingFrame) {\r\n        pendingFrame = true;\r\n        raf(frameLoop);\r\n    }\r\n}\r\n/**\r\n * [nextFrame description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param fn [description]\r\n */\r\nexport function nextFrame(fn) {\r\n    nextQueue.push(fn);\r\n    pendFrame();\r\n}\r\n/**\r\n * [readFrame description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param fn [description]\r\n */\r\nexport function readFrame(fn) {\r\n    readQueue.push(fn);\r\n    pendFrame();\r\n}\r\n/**\r\n * [writeFrame description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param fn [description]\r\n */\r\nexport function writeFrame(fn) {\r\n    writeQueue.push(fn);\r\n    pendFrame();\r\n}\r\n/**\r\n * [whenIdle description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @param fn [description]\r\n */\r\nexport function whenIdle(fn) {\r\n    idleQueue.push(fn);\r\n}\r\n/**\r\n * [triggerIdle description]\r\n *\r\n * @ignore Exclude from docs\r\n * @todo Description\r\n * @todo Maybe don't trigger a callback which was added while in the middle of triggering?\r\n */\r\nexport function triggerIdle() {\r\n    var now = Date.now();\r\n    var length = idleQueue.length;\r\n    for (var i = 0; i < length; ++i) {\r\n        idleQueue.shift()(now);\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}