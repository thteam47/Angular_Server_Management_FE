{"version":3,"file":"ng-otp-input.umd.js","sources":["../../../projects/ng-otp-input/src/lib/utils/keyboard-util.ts","../../../projects/ng-otp-input/src/lib/pipes/keys.pipe.ts","../../../projects/ng-otp-input/src/lib/components/ng-otp-input/ng-otp-input.component.ts","../../../projects/ng-otp-input/src/lib/components/ng-otp-input/ng-otp-input.component.html","../../../projects/ng-otp-input/src/lib/ng-otp-input.module.ts","../../../projects/ng-otp-input/src/lib/models/config.ts","../../../projects/ng-otp-input/src/public_api.ts","../../../projects/ng-otp-input/src/ng-otp-input.ts"],"sourcesContent":["export class KeyboardUtil{\r\n\r\n    static ifBackspaceOrDelete(event:KeyboardEvent){\r\n        return this.ifKey(event,'Backspace;Delete;Del');\r\n    }\r\n    static ifRightArrow(event:KeyboardEvent){\r\n        return this.ifKey(event,'ArrowRight;Right')\r\n    }\r\n    static ifLeftArrow(event:KeyboardEvent){\r\n        return this.ifKey(event,'ArrowLeft;Left')\r\n    }\r\n    static ifSpacebar(event:KeyboardEvent){\r\n        return this.ifKey(event,'Spacebar; ')//don't remove the space after ; as this will check for space key\r\n    }\r\n    static  ifKey(event:KeyboardEvent, keys:string):boolean{\r\n        let keysToCheck=keys.split(';');\r\n        return keysToCheck.some(k=> k ===event.key);\r\n    }\r\n}","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'keys'\r\n})\r\nexport class KeysPipe implements PipeTransform {\r\n  transform(value: any): string[] {\r\n    return Object.keys(value)\r\n  }\r\n}\r\n","import {\r\n  Component,\r\n  OnInit,\r\n  Input,\r\n  Output,\r\n  EventEmitter,\r\n  AfterViewInit\r\n} from '@angular/core';\r\nimport { FormGroup, FormControl } from '@angular/forms';\r\nimport { KeysPipe } from '../../pipes/keys.pipe';\r\nimport { Config } from '../../models/config';\r\nimport { KeyboardUtil } from '../../utils/keyboard-util';\r\n@Component({\r\n  // tslint:disable-next-line: component-selector\r\n  selector: 'ng-otp-input',\r\n  templateUrl: './ng-otp-input.component.html',\r\n  styleUrls: ['./ng-otp-input.component.scss']\r\n})\r\nexport class NgOtpInputComponent implements OnInit, AfterViewInit {\r\n  @Input() config: Config = { length: 4 };\r\n  // tslint:disable-next-line: no-output-on-prefix\r\n  @Output() onInputChange = new EventEmitter<string>();\r\n  @Input() formCtrl:FormControl;\r\n  otpForm: FormGroup;\r\n  currentVal:string;\r\n  inputControls: FormControl[] = new Array(this.config.length);\r\n  componentKey =\r\n    Math.random()\r\n      .toString(36)\r\n      .substring(2) + new Date().getTime().toString(36);\r\n  get inputType(){\r\n    return this.config?.isPasswordInput \r\n    ? 'password' \r\n    : this.config?.allowNumbersOnly \r\n      ? 'tel'\r\n      : 'text';\r\n  }\r\n  constructor(private keysPipe: KeysPipe) {}\r\n\r\n  ngOnInit() {\r\n    this.otpForm = new FormGroup({});\r\n    for (let index = 0; index < this.config.length; index++) {\r\n      this.otpForm.addControl(this.getControlName(index), new FormControl());\r\n    }\r\n    this.otpForm.valueChanges.subscribe((v:object)=>{\r\n      this.keysPipe.transform(this.otpForm.controls).forEach((k) => {\r\n        var val = this.otpForm.controls[k].value;\r\n        if(val && val.length>1){\r\n          if (val.length >= this.config.length) {\r\n            this.setValue(val);\r\n          }else{\r\n            this.rebuildValue();\r\n          }\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    if (!this.config.disableAutoFocus) {\r\n      const containerItem = document.getElementById(`c_${this.componentKey}`);\r\n      if (containerItem) {\r\n        const ele: any = containerItem.getElementsByClassName('otp-input')[0];\r\n        if (ele && ele.focus) {\r\n          ele.focus();\r\n        }\r\n      }\r\n    }\r\n  }\r\n  private getControlName(idx) {\r\n    return `ctrl_${idx}`;\r\n  }\r\n\r\n  onKeyDown($event, inputIdx){\r\n    if (KeyboardUtil.ifSpacebar($event)) {\r\n      $event.preventDefault();\r\n      return false;\r\n     }\r\n  }\r\n  onInput($event){\r\n    let newVal=this.currentVal ? `${this.currentVal}${$event.target.value}` : $event.target.value;\r\n    if(this.config.allowNumbersOnly && !this.validateNumber(newVal)){\r\n      $event.target.value='';\r\n      $event.stopPropagation();\r\n      $event.preventDefault();\r\n      return;\r\n    }\r\n  }\r\n  \r\n\r\n  onKeyUp($event, inputIdx) {\r\n    const nextInputId = this.appendKey(`otp_${inputIdx + 1}`);\r\n    const prevInputId = this.appendKey(`otp_${inputIdx - 1}`);\r\n    if (KeyboardUtil.ifRightArrow($event)) {\r\n      $event.preventDefault();\r\n      this.setSelected(nextInputId);\r\n      return;\r\n    }\r\n    if (KeyboardUtil.ifLeftArrow($event)) {\r\n      $event.preventDefault();\r\n      this.setSelected(prevInputId);\r\n      return;\r\n    }\r\n    if (KeyboardUtil.ifBackspaceOrDelete($event) && !$event.target.value) {\r\n      this.setSelected(prevInputId);\r\n      this.rebuildValue();\r\n      return;\r\n    }\r\n    \r\n    if (!$event.target.value) {\r\n      return;\r\n    }\r\n  \r\n    if (this.ifValidKeyCode($event)) {\r\n      this.setSelected(nextInputId);\r\n    }\r\n    this.rebuildValue();\r\n  }\r\n\r\n  validateNumber(val){\r\n    return val && /^\\d*\\.?\\d*$/.test(val);\r\n  }\r\n\r\n  appendKey(id) {\r\n    return `${id}_${this.componentKey}`;\r\n  }\r\n\r\n  setSelected(eleId) {\r\n    this.focusTo(eleId);\r\n    const ele: any = document.getElementById(eleId);\r\n    if (ele && ele.setSelectionRange) {\r\n      setTimeout(() => {\r\n        ele.setSelectionRange(0, 1);\r\n      }, 0);\r\n    }\r\n  }\r\n\r\n  ifValidKeyCode(event) {\r\n    const inp = event.key;\r\n    const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);\r\n    return (\r\n      isMobile ||\r\n      /[a-zA-Z0-9-_]/.test(inp) ||\r\n      (this.config.allowKeyCodes &&\r\n        this.config.allowKeyCodes.includes(event.keyCode)) \r\n    );\r\n  }\r\n\r\n  focusTo(eleId) {\r\n    const ele: any = document.getElementById(eleId);\r\n    if (ele) {\r\n      ele.focus();\r\n    }\r\n  }\r\n\r\n  // method to set component value\r\n  setValue(value: any) {\r\n    if (this.config.allowNumbersOnly && isNaN(value)) {\r\n        return;\r\n    }\r\n    this.otpForm.reset();\r\n     if (!value) {\r\n       this.rebuildValue();\r\n       return;\r\n     }\r\n     value = value.toString().replace(/\\s/g, ''); // remove whitespace\r\n     Array.from(value).forEach((c, idx) => {\r\n          if (this.otpForm.get(this.getControlName(idx))) {\r\n            this.otpForm.get(this.getControlName(idx)).setValue(c);\r\n          }\r\n     });\r\n     if (!this.config.disableAutoFocus) {\r\n      const containerItem = document.getElementById(`c_${this.componentKey}`);\r\n      var indexOfElementToFocus = value.length < this.config.length ? value.length : (this.config.length - 1);\r\n      let ele : any = containerItem.getElementsByClassName('otp-input')[indexOfElementToFocus];\r\n      if (ele && ele.focus) {\r\n        ele.focus();\r\n      }\r\n     }\r\n     this.rebuildValue();\r\n  }\r\n\r\n  rebuildValue() {\r\n    let val = '';\r\n    this.keysPipe.transform(this.otpForm.controls).forEach(k => {\r\n      if (this.otpForm.controls[k].value) {\r\n        let ctrlVal=this.otpForm.controls[k].value;\r\n        let isLengthExceed=ctrlVal.length>1;\r\n        let isCaseTransformEnabled= !this.config.allowNumbersOnly && this.config.letterCase && (this.config.letterCase.toLocaleLowerCase() == 'upper' || this.config.letterCase.toLocaleLowerCase()== 'lower');\r\n        ctrlVal=ctrlVal[0];\r\n        let transformedVal=isCaseTransformEnabled ? this.config.letterCase.toLocaleLowerCase() == 'upper' ? ctrlVal.toUpperCase() : ctrlVal.toLowerCase()  : ctrlVal;\r\n        if(isCaseTransformEnabled && transformedVal == ctrlVal){\r\n          isCaseTransformEnabled=false;\r\n        }else{\r\n          ctrlVal=transformedVal;\r\n        }\r\n        val += ctrlVal;\r\n        if(isLengthExceed || isCaseTransformEnabled) \r\n        {\r\n         this.otpForm.controls[k].setValue(ctrlVal);\r\n        }\r\n      }\r\n    });\r\n    if(this.formCtrl?.setValue){\r\n      this.formCtrl.setValue(val);\r\n    }\r\n    this.onInputChange.emit(val);\r\n    this.currentVal=val;\r\n  }\r\n  \r\n  \r\n  handlePaste(e) {\r\n    // Get pasted data via clipboard API\r\n    let clipboardData = e.clipboardData || window['clipboardData'];\r\n    if(clipboardData){\r\n     var pastedData =clipboardData.getData('Text');\r\n    }\r\n    // Stop data actually being pasted into div\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n    if (!pastedData || (this.config.allowNumbersOnly && !this.validateNumber(pastedData))) {\r\n      return;\r\n    }\r\n    this.setValue(pastedData);\r\n  }\r\n}\r\n","<div class=\"ng-otp-input-wrapper wrapper {{config.containerClass}}\" id=\"c_{{componentKey}}\" *ngIf=\"otpForm?.controls\"\r\n  [ngStyle]=\"config.containerStyles\">\r\n  <input (paste)=\"handlePaste($event)\" [pattern]=\"config.allowNumbersOnly ? '\\\\d*' : ''\" [type]=\"inputType\"  [placeholder]=\"config?.placeholder || ''\"\r\n    [ngStyle]=\"config.inputStyles\" \r\n    class=\"otp-input {{config.inputClass}}\" autocomplete=\"one-time-code\" *ngFor=\"let item of otpForm?.controls | keys;let i=index\"\r\n    [formControl]=\"otpForm.controls[item]\" #inp id=\"otp_{{i}}_{{componentKey}}\" \r\n    (keyup)=\"onKeyUp($event,i)\" (input)=\"onInput($event)\" (keydown)=\"onKeyDown($event,i)\" >\r\n</div>","import { NgModule } from '@angular/core';\r\nimport { NgOtpInputComponent } from './components/ng-otp-input/ng-otp-input.component';\r\nimport { KeysPipe } from './pipes/keys.pipe';\r\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\r\nimport { CommonModule } from '@angular/common';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule\r\n  ],\r\n  declarations: [NgOtpInputComponent, KeysPipe],\r\n  exports: [NgOtpInputComponent],\r\n  providers: [KeysPipe]\r\n})\r\nexport class NgOtpInputModule { }\r\n","export class Config {\r\n  inputStyles?: { [key: string]: any };\r\n  containerStyles?: { [key: string]: any };\r\n  /**\r\n   * @deprecated Don't use as this will be removed in upcoming versions\r\n   */\r\n  allowKeyCodes?: string[];\r\n  length: number;\r\n  allowNumbersOnly?: boolean;\r\n  inputClass?: string;\r\n  containerClass?: string;\r\n  isPasswordInput?: boolean;\r\n  disableAutoFocus?: boolean;\r\n  placeholder?: string;\r\n  letterCase?: \"Upper\" | \"Lower\";\r\n}\r\n","/*\r\n * Public API Surface of ng-otp-input\r\n */\r\n\r\nexport * from './lib/ng-otp-input.module';\r\nexport {Config as NgOtpInputConfig} from './lib/models/config';\r\nexport * from './lib/components/ng-otp-input/ng-otp-input.component';","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["i0","Pipe","EventEmitter","FormGroup","FormControl","i1.KeysPipe","i2","i3","Component","Input","Output","CommonModule","FormsModule","ReactiveFormsModule","NgModule"],"mappings":"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"}